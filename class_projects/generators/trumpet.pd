#N canvas 847 623 559 480 12;
#X obj 113 44 dbtorms;
#X obj 70 69 env~;
#X floatatom 113 19 0 0 0 0 - - -;
#X obj 70 44 *~;
#X obj 70 19 adc~;
#X obj 73 195 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -261682
-1 -1 0 1;
#X obj 321 102 osc~;
#X obj 300 240 osc~;
#X obj 279 325 osc~;
#N canvas 2012 359 514 287 att-detector 0;
#X obj 59 50 t b f;
#X floatatom 59 73 0 0 0 0 - - -;
#X obj 66 128 pack;
#X obj 66 151 route 0 1;
#X obj 66 174 > 55;
#X obj 116 174 < 45;
#X obj 66 197 sel 1;
#X obj 116 197 sel 1;
#X msg 30 208 1;
#X msg 30 186 0;
#X obj 144 231 print attack;
#X obj 59 105 != 0;
#X text 102 73 state -- 1 if waiting for low threshold \,;
#X text 139 88 0 if we've attained it and now want the;
#X text 142 104 high one.;
#X text 149 150 route the RMS value according to state;
#X text 179 176 if off \, 55 dB means attack. If on \, 45;
#X text 180 197 dB or less means state changes to off.;
#X text 189 27 ATTACK DETECTION;
#X obj 59 19 inlet;
#X obj 66 231 outlet;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 6 0 10 0;
#X connect 6 0 20 0;
#X connect 7 0 9 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 11 0 2 0;
#X connect 19 0 0 0;
#X restore 70 94 pd att-detector;
#X obj 279 409 dac~;
#X obj 279 377 *~;
#X obj 279 19 nbx 5 18 1 12 0 0 empty empty empty 0 -8 0 10 -261682
-1 -1 2 256;
#X obj 70 170 spigot;
#X obj 124 145 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 70 240 line~;
#X obj 70 277 s~ amp;
#X obj 300 349 r~ amp;
#X msg 70 215 \$1 30;
#X obj 279 300 +~;
#X obj 300 265 *~ 1500;
#X obj 356 233 array define loop 20;
#X obj 279 42 * 110;
#X obj 325 300 tabwrite~ loop;
#X obj 321 185 tabread4~ loop;
#X obj 300 215 +~;
#X obj 321 77 * 0.188;
#X obj 300 155 +~;
#X obj 387 102 line~;
#X obj 321 127 *~;
#X msg 387 76 100 \, 0 50;
#X connect 0 0 3 1;
#X connect 1 0 9 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 18 0;
#X connect 6 0 29 0;
#X connect 7 0 20 0;
#X connect 8 0 11 0;
#X connect 11 0 10 0;
#X connect 11 0 10 1;
#X connect 12 0 22 0;
#X connect 13 0 5 0;
#X connect 14 0 13 1;
#X connect 15 0 16 0;
#X connect 17 0 11 1;
#X connect 18 0 15 0;
#X connect 19 0 8 0;
#X connect 20 0 19 1;
#X connect 20 0 23 0;
#X connect 22 0 19 0;
#X connect 22 0 26 0;
#X connect 22 0 27 0;
#X connect 22 0 30 0;
#X connect 24 0 25 1;
#X connect 25 0 7 0;
#X connect 26 0 6 0;
#X connect 27 0 25 0;
#X connect 28 0 29 1;
#X connect 29 0 27 1;
#X connect 30 0 28 0;
